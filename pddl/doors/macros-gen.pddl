(define (domain doors)
  (:requirements :strips :typing)
  (:types location room key)
  (:predicates
     (at ?loc - location)
     (unlocked ?room - room)
     (locinroom ?loc - location ?room - room)
     (keyat ?key - key ?loc - location)
     (keyforroom ?key - key ?room - room)
     (moveto ?loc - location)
     (pick ?key - key)
  )

  (:action do_moveto
    :parameters (?sloc - location ?eloc - location ?eroom - room)
    :precondition (and (moveto ?eloc)
                       (at ?sloc)
                       (unlocked ?eroom)
                       (locinroom ?eloc ?eroom)
                  )
    :effect (and (not (at ?sloc))
                 (at ?eloc)
            )
  )

  (:action do_pick
    :parameters (?loc - location ?key - key ?room - room)
    :precondition (and (pick ?key)
                       (at ?loc)
                       (keyat ?key ?loc)
                       (keyforroom ?key ?room)
                  )
    :effect (and (not (keyat ?key ?loc))
                 (unlocked ?room)
            )
  )



  (:action macro0000
    :parameters (?var0000 - location ?var0001 - location ?var0002 - room ?var0003 - key ?var0004 - room ?var0005 - room)
    :precondition (and (at ?var0000)
      (keyat ?var0003 ?var0001)
      (keyforroom ?var0003 ?var0004)
      (locinroom ?var0000 ?var0005)
      (locinroom ?var0001 ?var0002)
      (moveto ?var0000)
      (moveto ?var0001)
      (pick ?var0003)
      (unlocked ?var0002)
      (unlocked ?var0005))
    :effect (and
      (not (keyat ?var0003 ?var0001))
      (unlocked ?var0004))
  )

  (:action macro0001
    :parameters (?var0000 - location ?var0001 - location ?var0002 - room ?var0003 - key ?var0004 - room)
    :precondition (and (at ?var0000)
      (keyat ?var0003 ?var0001)
      (keyforroom ?var0003 ?var0004)
      (locinroom ?var0001 ?var0002)
      (moveto ?var0001)
      (pick ?var0003)
      (unlocked ?var0002))
    :effect (and
      (not (at ?var0000))
      (not (keyat ?var0003 ?var0001))
      (at ?var0001)
      (unlocked ?var0004))
  )

  (:action macro0002
    :parameters (?var0000 - location ?var0001 - location ?var0002 - room ?var0003 - key ?var0004 - room ?var0005 - location ?var0006 - room)
    :precondition (and (at ?var0000)
      (keyat ?var0003 ?var0001)
      (keyforroom ?var0003 ?var0004)
      (locinroom ?var0001 ?var0002)
      (locinroom ?var0005 ?var0006)
      (moveto ?var0001)
      (moveto ?var0005)
      (pick ?var0003)
      (unlocked ?var0002)
      (unlocked ?var0006))
    :effect (and
      (not (at ?var0000))
      (not (keyat ?var0003 ?var0001))
      (at ?var0005)
      (unlocked ?var0004))
  )

  (:action macro0003
    :parameters (?var0000 - location ?var0001 - location ?var0002 - room ?var0003 - key ?var0004 - room ?var0005 - location)
    :precondition (and (at ?var0000)
      (keyat ?var0003 ?var0001)
      (keyforroom ?var0003 ?var0004)
      (locinroom ?var0001 ?var0002)
      (locinroom ?var0005 ?var0004)
      (moveto ?var0001)
      (moveto ?var0005)
      (pick ?var0003)
      (unlocked ?var0002))
    :effect (and
      (not (at ?var0000))
      (not (keyat ?var0003 ?var0001))
      (at ?var0005)
      (unlocked ?var0004))
  )
)